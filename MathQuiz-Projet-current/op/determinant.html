<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul du d√©terminant d'une matrice</title>
    <link rel="stylesheet" href="../styles/style.css?v=1.0">
    <link rel="icon" href="../images/logo.png" type="image/png">

    <script>
        // Calculer le d√©terminant d'une matrice 2x2
        function determinant2x2(matrix) {
            return matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0];
        }

        // Calculer le d√©terminant d'une matrice 3x3
        function determinant3x3(matrix) {
            return matrix[0][0] * (matrix[1][1] * matrix[2][2] - matrix[1][2] * matrix[2][1]) -
                   matrix[0][1] * (matrix[1][0] * matrix[2][2] - matrix[1][2] * matrix[2][0]) +
                   matrix[0][2] * (matrix[1][0] * matrix[2][1] - matrix[1][1] * matrix[2][0]);
        }

        // Calculer le d√©terminant d'une matrice 4x4
        function determinant4x4(matrix) {
            // Fonction pour calculer le cofacteur d'une matrice
            function cofactor(matrix, p, q, n) {
                const temp = Array.from(Array(n), () => Array(n).fill(0));
                let i = 0, j = 0;

                for (let row = 0; row < n; row++) {
                    for (let col = 0; col < n; col++) {
                        if (row !== p && col !== q) {
                            temp[i][j] = matrix[row][col];
                            j++;
                            if (j === n - 1) {
                                j = 0;
                                i++;
                            }
                        }
                    }
                }
                return temp;
            }

            // Calculer le d√©terminant en utilisant le d√©veloppement par rapport √† la premi√®re ligne
            function determinant(matrix, n) {
                let det = 0;
                if (n === 2) {
                    return matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0];
                }
                let sign = 1; // Sign alternant pour chaque terme
                for (let i = 0; i < n; i++) {
                    const subMatrix = cofactor(matrix, 0, i, n);
                    det += sign * matrix[0][i] * determinant(subMatrix, n - 1);
                    sign = -sign;
                }
                return det;
            }

            return determinant(matrix, 4);
        }

        // Calculer le d√©terminant de la matrice selon sa taille
        function calculerDeterminant() {
            const taille = parseInt(document.getElementById("taille").value);

            // R√©cup√©rer les valeurs de la matrice saisies par l'utilisateur
            const matrix = [];
            for (let i = 0; i < taille; i++) {
                matrix[i] = [];
                for (let j = 0; j < taille; j++) {
                    const id = `matrice-${i}-${j}`;
                    matrix[i][j] = parseFloat(document.getElementById(id).value) || 0;
                }
            }

            // Calculer le d√©terminant de la matrice en fonction de sa taille
            let determinant = 0;
            if (taille === 2) {
                determinant = determinant2x2(matrix);
            } else if (taille === 3) {
                determinant = determinant3x3(matrix);
            } else if (taille === 4) {
                determinant = determinant4x4(matrix);
            }

            // Afficher le d√©terminant
            document.getElementById("resultat").textContent = `D√©terminant : ${determinant}`;
        }

        // Afficher le formulaire de saisie en fonction de la taille de la matrice choisie
        function afficherFormulaire() {
            const taille = parseInt(document.getElementById("taille").value);
            const formulaire = document.getElementById("formulaire-matrice");
            formulaire.innerHTML = "";

            for (let i = 0; i < taille; i++) {
                const row = document.createElement("tr");
                for (let j = 0; j < taille; j++) {
                    const cell = document.createElement("td");
                    const input = document.createElement("input");
                    input.type = "number";
                    input.id = `matrice-${i}-${j}`;
                    input.value = 0;
                    cell.appendChild(input);
                    row.appendChild(cell);
                }
                formulaire.appendChild(row);
            }
        }

        // Fonction pour afficher l'explication du calcul du d√©terminant d'une matrice
        function afficherMethode() {
            // Obtenir l'√©l√©ment HTML pour afficher l'explication
            const explicationElement = document.getElementById('explication-methode');

            // Cr√©er le contenu de l'explication
            const explicationContenu = `
                <h3>M√©thode de calcul du d√©terminant</h3>
                <p><strong>Matrice 2x2 :</strong></p>
                <p>Pour une matrice de taille 2x2, le d√©terminant est calcul√© comme suit :</p>
                <p>Si A = [a b]<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[c d]</p>
                <p>Alors, d√©terminant(A) = a * d - b * c.</p>

                <p><strong>Matrice 3x3 :</strong></p>
                <p>Pour une matrice de taille 3x3, le d√©terminant est calcul√© en utilisant la r√®gle de Sarrus :</p>
                <p>Si A = [a b c]<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[d e f]<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[g h i]</p>
                <p>Alors, d√©terminant(A) = a * e * i + b * f * g + c * d * h - c * e * g - a * f * h - b * d * i.</p>

                <p><strong>Matrice 4x4 :</strong></p>
                <p>Pour une matrice de taille 4x4, le d√©terminant est calcul√© en utilisant l'extension de la r√®gle de Laplace :</p>
                <p>Pour calculer le d√©terminant d'une matrice 4x4, choisissez une ligne ou une colonne et d√©veloppez-la en utilisant les cofacteurs.</p>
                <p>Le processus est r√©p√©t√© pour chaque cofacteur jusqu'√† ce que le d√©terminant soit calcul√© pour les matrices plus petites (3x3, 2x2).</p>
                <p>C'est un processus r√©cursif. Choisissez la m√©thode de calcul que vous pr√©f√©rez.</p>
            `;

            // Ajouter le contenu d'explication √† l'√©l√©ment
            explicationElement.innerHTML = explicationContenu;
        }
        function afficherBravo(){
            // Obtenir l'√©l√©ment pour afficher la m√©thode d'addition de matrices
            const explicationElement = document.getElementById('explication-methode');

            // Cr√©er le contenu de l'explication
            const explicationContenu = `
               <h1>FELICITATIONS</h1>
            `;
            // Ajouter le contenu d'explication √† l'√©l√©ment
            explicationElement.innerHTML = explicationContenu;
        }
    </script>
</head>

<body>
    <!--Entete de la page-->
  <header class="header-menu">
    <nav style="font-size: 13px;">
      <ul>
        <li>
          <a href="home.html" class="logo-link">
            <img src="../images/cytech.png" alt="Logo" class="logo">
          </a>
        </li>
        <li>
          <a href="home.html" class="logo-link">
            <img src="../images/logo.png" alt="Logo" class="logo">
          </a>
        </li>
        <li style="font-size: 22px;font-family: Georgia, 'Times New Roman', Times, serif;">         MATHQUIZ         </h1></li>
        <li><a href="somme.html">Somme</a></li>
        <li><a href="soustraction.html">Soustraction</a></li>
        <li><a href="division.html">Division</a></li>
        <li><b>D√©terminant</b></li>
        
        <li><a href="../ressources.html">Cours & exos</a></li>
        <li><a href="https://cytech.cyu.fr/">Qui sommes-nous ? </a></li>
      </ul>
    </nav>
  </header>

  <section style="font-size: 12px;">
    <br><br>
    <div class="welcome-container">
        <div class="logo-container">
            <img src="../images/logo.png" alt="Logo" class="logo">
        </div>

        <div class="main-container">
            <h2>Calcul du d√©terminant d'une matrice</h2>
            <br>
            <p>Choisissez la taille de la matrice (2x2, 3x3, 4x4) :</p>
            <select id="taille" onchange="afficherFormulaire()">
                <option value="2">2x2</option>
                <option value="3">3x3</option>
                <option value="4">4x4</option>
            </select>
            <br><br>

            <table id="formulaire-matrice">
                <!-- Le formulaire de saisie des valeurs de la matrice sera g√©n√©r√© ici -->
            </table>
            <br>

            <button onclick="calculerDeterminant()">Calculer le d√©terminant</button>
            
            <br><br>
            <div id="resultat"></div>
            <br><br>

            <h3>Tu as compris ?</h3>
            <button class="button-53" role="button" onclick="afficherBravo()">OUI üí™</button>
            <button class="button-53" role="button" onclick="afficherMethode()">NON :( </button>
            
            <br><br>
            <!-- Cet √©l√©ment affichera l'explication de la m√©thode d'addition de matrices -->
            <div id="explication-methode" class="explication"></div>

        </div>
        <div class="right-container">
            <!--Boutton Revenir au Menu-->
            <button  style="border-radius: 50%;  width: 70%; font-weight: bold;" onclick="window.location.href = '../welcome.html';">Menu Principal</button>
        </div>
    </div>
    </section>

    <!--Pied de la page-->
  <footer>
    <p style="font-size: 11px; "> CyTech . MathQuiz . Tous droits r√©serv√©s  &copy  2024</p>
  </footer>
</body>
</html>